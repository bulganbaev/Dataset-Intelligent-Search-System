 utl_parallell_processing_creating_8_subsets running 8 processes in parallel to subset large dataset not good example but provides the algorithm macros and parallel processing github https github com rogerjdeangelis utl_parallell_processing_creating_8_subsets see https goo gl awhjmc https communities sas com t5 general sas programming macros and parallel processing p 430028 t1008880 running 8 parallel sas processes to conditional subset dataset into 8 pieces you may want to try the free spde sas base product may give the op some ideas working code macro cutdat yyyy_qtr libname sd1 sd1 data sd1 out_ yyyy_qtr set sd1 have where yyyy_qtr yyyy_qtr run quit mend cutdat systask kill sys1 sys2 sys3 sys4 sys5 sys6 sys7 sys8 systask command _s termstmt nrstr cutdat 1990_1 log log a1 log taskname sys1 systask command _s termstmt nrstr cutdat 1990_2 log log a2 log taskname sys2 systask command _s termstmt nrstr cutdat 1990_3 log log a3 log taskname sys3 systask command _s termstmt nrstr cutdat 1990_4 log log a4 log taskname sys4 systask command _s termstmt nrstr cutdat 1991_1 log log a5 log taskname sys5 systask command _s termstmt nrstr cutdat 1991_2 log log a6 log taskname sys6 systask command _s termstmt nrstr cutdat 1991_3 log log a87log taskname sys7 systask command _s termstmt nrstr cutdat 1991_4 log log a8 log taskname sys8 waitfor sys1 sys2 sys3 sys4 sys5 sys6 sys7 sys8 data sd1 combine view combine somtimes for very big datasets it is to have data partitioned set sd1 out_19 so do not create physical combined dataset run quit generate the systask commands in datastep could not easily get call execute or dosubl to work with systask could not prevent macro resolution parallel processing for do loop input consisting of year and quarter to create 8 datasets sd1 have total obs 24 rules data to split obs yyyy_qtr val create these datasets using yyyy_qtd as filter 1 1990_1 2 2 1990_1 57 3 1990_1 39 sd1 out_1990_1 4 1990_2 61 5 1990_2 70 6 1990_2 92 sd1 out_1990_2 7 1990_3 81 8 1990_3 12 9 1990_3 36 sd1 out_1990_3 10 1990_4 49 11 1990_4 51 12 1990_4 30 sd1 out_1990_4 13 1991_1 80 14 1991_1 3 15 1991_1 70 sd1 out_1991_1 16 1991_2 21 17 1991_2 33 18 1991_2 98 sd1 out_1991_2 19 1991_3 83 20 1991_3 11 21 1991_3 28 sd1 out_1991_3 22 1991_4 54 23 1991_4 7 24 1991_4 8 sd1 out_1991_4 process note null input macro called using termstmt nrstr cutdat 1990_1 let _s sysfunc compbl progra 1 sashome sasfoundation 9 4 sas exe sysin nul sasautos oto autoexec oto tut_oto sas work wrk this places the macro in my autocall library oto so the batch command can find the macro index on yyyy_qtr will speed this up data _null_ file oto cutdat sas lrecl 512 input put _infile_ putlog _infile_ cards4 macro cutdat yyyy_qtr libname sd1 sd1 data sd1 out_ yyyy_qtr set sd1 have where yyyy_qtr yyyy_qtr run quit mend cutdat run quit cutdat 1991_1 check interatively set up systask kill sys1 sys2 sys3 sys4 sys5 sys6 sys7 sys8 systask command _s termstmt nrstr cutdat 1990_1 log log a1 log taskname sys1 systask command _s termstmt nrstr cutdat 1990_2 log log a2 log taskname sys2 systask command _s termstmt nrstr cutdat 1990_3 log log a3 log taskname sys3 systask command _s termstmt nrstr cutdat 1990_4 log log a4 log taskname sys4 systask command _s termstmt nrstr cutdat 1991_1 log log a5 log taskname sys5 systask command _s termstmt nrstr cutdat 1991_2 log log a6 log taskname sys6 systask command _s termstmt nrstr cutdat 1991_3 log log a87log taskname sys7 systask command _s termstmt nrstr cutdat 1991_4 log log a8 log taskname sys8 waitfor sys1 sys2 sys3 sys4 sys5 sys6 sys7 sys8 want these 8 datasets sd1 out_1990_1 total obs 3 obs yyyy_qtr val 1 1990_1 2 2 1990_1 57 3 1990_1 39 sd1 out_1991_1 total obs 3 obs yyyy_qtr val 1 1991_1 80 2 1991_1 3 3 1991_1 70 sd1 out_1991_4 total obs 3 obs yyyy_qtr val 1 1991_4 54 2 1991_4 7 3 1991_4 8 _ _ _ _ __ ___ __ _ _____ __ __ _ _ __ _ _ _ _ _ _ _ __ _ _ __ _ _ _ _ _ _ __ _ _ _ ___ __ _ __ _ __ __ _ libname sd1 sd1 data sd1 have drop yyyy qtr store do yyyy 1990 to 1991 do qtr 1 to 4 yyyy_qtr cats put yyyy 4 _ put qtr 1 do store 1 to 3 val int 100 uniform 5731 output end end end run quit _ _ _ _ _ __ ___ __ _ _ __ _ _ __ _ ___ ___ _ _ _ _ ___ _ __ _ _ _ _ _ __ _ __ _ _ _ _ _ __ _ _ _ _ _ _ _ __ _ _ _ __ _ __ _ _ ___ ___ _ __ _ __ _ ___ _ _ let _s sysfunc compbl progra 1 sashome sasfoundation 9 4 sas exe sysin nul sasautos oto autoexec oto tut_oto sas work wrk data _null_ file oto cutdat sas lrecl 512 input put _infile_ putlog _infile_ cards4 macro cutdat yyyy_qtr libname sd1 sd1 data sd1 out_ yyyy_qtr set sd1 have where yyyy_qtr yyyy_qtr run quit mend cutdat run quit cutdat 1991_1 systask kill sys1 sys2 sys3 sys4 sys5 sys6 sys7 sys8 systask command _s termstmt nrstr cutdat 1990_1 log log a1 log taskname sys1 systask command _s termstmt nrstr cutdat 1990_2 log log a2 log taskname sys2 systask command _s termstmt nrstr cutdat 1990_3 log log a3 log taskname sys3 systask command _s termstmt nrstr cutdat 1990_4 log log a4 log taskname sys4 systask command _s termstmt nrstr cutdat 1991_1 log log a5 log taskname sys5 systask command _s termstmt nrstr cutdat 1991_2 log log a6 log taskname sys6 systask command _s termstmt nrstr cutdat 1991_3 log log a87log taskname sys7 systask command _s termstmt nrstr cutdat 1991_4 log log a8 log taskname sys8 waitfor sys1 sys2 sys3 sys4 sys5 sys6 sys7 sys8 log mprint cutdat quit mlogic cutdat ending execution note sys2 is not an active task transaction note there are no active tasks transactions 2465 systask kill sys1 sys2 sys3 sys4 sys5 sys6 sys7 sys8 2466 systask command _s termstmt nrstr cutdat 1990_1 log log a1 log taskname sys1 symbolgen macro variable _s resolves to progra 1 sashome sasfoundation 9 4 sas exe sysin nul sasautos oto autoexec oto tut_oto sas work wrk 2467 systask command _s termstmt nrstr cutdat 1990_2 log log a2 log taskname sys2 symbolgen macro variable _s resolves to progra 1 sashome sasfoundation 9 4 sas exe sysin nul sasautos oto autoexec oto tut_oto sas work wrk 2468 systask command _s termstmt nrstr cutdat 1990_3 log log a3 log taskname sys3 symbolgen macro variable _s resolves to progra 1 sashome sasfoundation 9 4 sas exe sysin nul sasautos oto autoexec oto tut_oto sas work wrk 2469 systask command _s termstmt nrstr cutdat 1990_4 log log a4 log taskname sys4 symbolgen macro variable _s resolves to progra 1 sashome sasfoundation 9 4 sas exe sysin nul sasautos oto autoexec oto tut_oto sas work wrk 2470 systask command _s termstmt nrstr cutdat 1991_1 log log a5 log taskname sys5 symbolgen macro variable _s resolves to progra 1 sashome sasfoundation 9 4 sas exe sysin nul sasautos oto autoexec oto tut_oto sas work wrk 2471 systask command _s termstmt nrstr cutdat 1991_2 log log a6 log taskname sys6 symbolgen macro variable _s resolves to progra 1 sashome sasfoundation 9 4 sas exe sysin nul sasautos oto autoexec oto tut_oto sas work wrk 2472 systask command _s termstmt nrstr cutdat 1991_3 log log a87log taskname sys7 symbolgen macro variable _s resolves to progra 1 sashome sasfoundation 9 4 sas exe sysin nul sasautos oto autoexec oto tut_oto sas work wrk 2473 systask command _s termstmt nrstr cutdat 1991_4 log log a8 log taskname sys8 symbolgen macro variable _s resolves to progra 1 sashome sasfoundation 9 4 sas exe sysin nul sasautos oto autoexec oto tut_oto sas work wrk 2474 waitfor sys1 sys2 sys3 sys4 sys5 sys6 sys7 sys8 note task sys1 produced log output note task sys3 produced log output note task sys7 produced log output note task sys2 produced log output note task sys4 produced log output note task sys8 produced log output note task sys5 produced log output note task sys6 produced log output batch log note libref sd1 was successfully assigned as follows engine v9 physical name sd1 note there were 3 observations read from the data set sd1 have where yyyy_qtr 1990_1 note the data set sd1 out_1990_1 has 3 observations and 2 variables note data statement used total process time real time 0 05 seconds cpu time 0 04 seconds note sas institute inc sas campus drive cary nc usa 27513 2414 note the sas system used real time 2 37 seconds cpu time 0 98 seconds _ _ _ _ ___ ___ _ _ _ _ ___ _ __ __ _ _ _ _ ___ __ _ __ _ _ _ __ _ __ _ _ _ _ _ _ _ ___ ___ _ __ _ __ _ ___ _ _ __ _ __ _ __ ___ data sd1 meta drop yyyy qtr do yyyy 1990 to 1991 do qtr 1 to 4 yyyy_qtr cats put yyyy 4 _ put qtr 1 output end end run quit data _null_ file sas cutdat cmd lrecl 700 length cmd 700 retain _s set sd1 meta pgmbf4 catx systask command termstmt pgm cats nrstr cutdat yyyy_qtr pgmaft cats log log a1 log taskname sys put _n_ 1 cmd catx pgmbf4 pgm pgmaft put cmd run quit options noxwait noxsync let tym sysfunc time systask kill sys1 sys2 sys3 sys4 sys5 sys6 sys7 sys8 inc sas cutdat cmd waitfor sys1 sys2 sys3 sys4 sys5 sys6 sys7 sys8 